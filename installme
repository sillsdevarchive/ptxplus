Readme file for the manual installation of the developer version of the ptxplus package
	By Dennis Drescher (dennis_drescher@sil.org)
	Last edited: 24/08/2009


These are instructions for manually installing the developer version of the ptxplus package on a typical Ubuntu operating system (Jaunty +). Ultimately we want ptxplus to completely install from the package but at this point, given the state of flux it is in, it is best to get the latest code from the repository and manually install it. Most of the installation commands here will be done in the terminal. If you have not opened a terminal yet, do it now.


PYTHON
Nothing in this package will work without Python. Be sure you have Python 2.5 installed on your system.


GETTING ptxplus
To obtain the ptxplus, you need to check it out from the Mercurial repository it resides in. To simplify these instructions we will assume that the ptxplus package will go in this location:

	~/Projects

Create the above path if it does not exist or adjust the commands to suite your system.

If you do not have the Mercurial distributed version control system installed on your system, use this command to install the package and the Meld differential file viewing program as well:

	sudo apt-get install mercurial meld

Now you can to go to the Palaso website and clone the project code with:

	hg clone http://hg.palaso.org/ptxplus ~/Projects/ptxplus

That should put ptxplus where you need it. From time to time you may want to update it. To do that, from inside the ptxplus project folder (~/Projects/ptxplus), this is the command you need:

	hg pull


INSTALLATION
For easier operation it is necessary to get ptxplus properly registered in your system. The first thing that needs to be done is to link ptxplus.conf file to /etc folder. That is done with:

	sudo ln -s ~/Projects/ptxplus/bin/ptxplus.conf /etc/ptxplus.conf

Now we will get ptxplus in your path by editing the ~/.profile file. To do that use this command:

	sudo gedit ~/.profile

Add this to the end of that file (on its own line):

	export PTXPLUS_BASE="$HOME/Projects/ptxplus"

Next time you reboot or login, the new path settings will be there.

If you don't want to reboot right now and you just want to get it working on the current login (terminal) use:

	source ~/.profile

That will enable you to test in the current terminal but if you want it to take effect system-wide then you will need to log off then log back in.

Test to see if the system recognizes the additional path with:

	echo $PTXPLUS_BASE

Next we need link ptxplus (main program) to /usr/local/bin so it can be started from any location like a real program would. To do that do:

	sudo ln -s ~/Projects/ptxplus/bin/ptxplus /usr/local/bin/ptxplus

This should complete the manual installation of ptxplus. Now you should be able to start the program from anywhere with:

	ptxplus

In a terminal, if you start it from the root of a project folder it should find the project.conf file and automatically load that project. However, if you want to start ptxplus with a right-click from the file browser then you will need to follow the instructions below in the SYSTEM TWEAKS to install a Nautilus script that will make this happen for you.


SYSTEM TWEAKS
Starting ptxplus from a right-click:
Create a text file in /home/<yourhome>/.gnome2/nautilus-scripts called ptxplus. Be sure to set the permissions on that file to be exicutable. (Right-click on the file then go to Properties -> Permissions, and click the Execute box.) Now open that file for editing and insert these two lines. (Edit as necessary.):

	#!/bin/sh
	/home/<yourhome>/Projects/ptxplus/bin/python/ptxplus-manager/ptxplus-manager

Once you save the file you should be able to, from within your file browser, right click inside a valid project folder and you will see the "Scripts" entry in the menu. Inside that you will find the ptxplus entry and when you click in it, it should open that project in ptxplus.

Starting a terminal with a right-click:
Some times you want to open a terminal at a certain location in your Nautilus file browser. As above, create a text file in the scripts folder called "Open Terminal" and give it exicutable properties. Open the file in your editor and add these two lines:

	#!/bin/sh
	gnome-terminal

When you are done you should see the "Open Terminal" in the menu when you right-click.


OTHER REQUIRED SOFTWARE

List them here

Note XeTeX has to be installed twice, first texlive, then texlive-xetex-snapshot

